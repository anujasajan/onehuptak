<!-- නමෝ බුද්ධාය !✨ -->
<!DOCTYPE html>

<html lang="en">
<head>
    <link rel="icon" type="image/png" href="favicon.png" />

<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>OneHuptak Downloader</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<style>
    
    
        .gradient-bg {
            background: linear-gradient(135deg, #000c33, #5d0dbe);
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid #3498db;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            display: none;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .video-thumbnail {
            aspect-ratio: 9/16;
            object-fit: cover;
        }
        .author-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }
        .quality-btn {
            transition: all 0.2s;
        }
        .quality-btn:hover {
            transform: scale(1.05);
        }
        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
        }
        .photo-item {
            position: relative;
            overflow: hidden;
            border-radius: 0.5rem;
            background: #4144ee;
            border: 1px solid #a6a1ec;
        }
        .photo-item img {
            width: 100%;
            height: auto;
            display: block;
        }
        .photo-footer {
            background: white;
            padding: 0.75rem;
            text-align: center;
            border-top: 1px solid #e5e5e5;
        }
        .download-btn {
            background: #6e8efb;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            display: inline-block;
            font-weight: 500;
            transition: all 0.2s;
            width: 100%;
            text-align: center;
        }
        .download-btn:hover {
            background: #5a7df4;
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .photo-count {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.75rem;
        }
        .input-clear-btn {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #999;
            display: none;
        }
        .input-clear-btn:hover {
            color: #666;
        }
        .input-wrapper {
            position: relative;
            flex-grow: 1;
        }
        .progress-bar {
            width: 100%;
            height: 4px;
            background-color: #e5e7eb;
            border-radius: 2px;
            overflow: hidden;
            margin-top: 8px;
            display: none;
        }
        .progress-bar-fill {
            height: 100%;
            background-color: #4f46e5;
            width: 0%;
            transition: width 0.3s ease;
        }
        .quality-tabs {
            display: flex;
            border-bottom: 1px solid #e5e7eb;
            margin-bottom: 1rem;
        }
        .quality-tab {
            padding: 0.5rem 1rem;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }
        .quality-tab.active {
            border-bottom-color: #4f46e5;
            color: #4f46e5;
            font-weight: 500;
        }
        .quality-content {
            display: none;
        }
        .quality-content.active {
            display: block;
        }
        /* Popup styles */
        .popup {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            display: flex;
            align-items: center;
            animation: slideIn 0.3s ease-out, fadeOut 0.5s ease-in 3s forwards;
        }
        .popup.success {
            background-color: #4CAF50;
            color: white;
        }
        .popup.error {
            background-color: #F44336;
            color: white;
        }
        .popup-icon {
            margin-right: 10px;
            font-size: 20px;
        }
        @keyframes slideIn {
            from { top: -50px; opacity: 0; }
            to { top: 20px; opacity: 1; }
        }
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; visibility: hidden; }
        }
        /* TikTok button animation */
        .tiktok-btn {
            position: relative;
            overflow: hidden;
        }
        .tiktok-btn:active {
            transform: scale(0.95);
        }
        .tiktok-btn:active::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255,255,255,0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
            animation: ripple 0.6s ease-out;
        }
        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
<div class="container mx-auto px-4 py-8">
<header class="text-center mb-12">
<h1 class="text-4xl font-bold text-white mb-2"><span id="typed-title"></span></h1>
<p class="text-white opacity-80"><span id="typed-subtitle"></span></p>
</header>
<div class="max-w-3xl mx-auto bg-white rounded-md shadow-sm overflow-hidden p-6 mb-8">
<div class="flex flex-col md:flex-row gap-4 mb-6">
<div class="input-wrapper">
<input class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500" id="videoUrl" placeholder="Paste video link here..." type="url"/>
<span class="input-clear-btn" id="clearInput">
<i class="fas fa-times"></i>
</span>
</div>
<button class="tiktok-btn bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-medium transition" id="downloadBtn">
<i class="fas fa-download mr-2"></i> Download
                </button>
</div>
<div class="progress-bar" id="progressBar">
<div class="progress-bar-fill" id="progressBarFill"></div>
</div>
<div class="hidden mb-6" id="qualityOptions">
<div class="quality-tabs">
<div class="quality-tab active" data-tab="video">Video</div>
<div class="quality-tab" data-tab="audio">Audio</div>
</div>
<div class="quality-content active" id="videoQualityContent">
<h3 class="text-lg font-semibold mb-3">Select Video Quality:</h3>
<div class="flex flex-wrap gap-2" id="videoQualityButtons">
</div>
</div>
<div class="quality-content" id="audioQualityContent">
<h3 class="text-lg font-semibold mb-3">Select Audio Format:</h3>
<div class="flex flex-wrap gap-2" id="audioQualityButtons">
</div>
</div>
</div>
<div class="flex justify-center my-4" id="loading">
<div class="loading-spinner"></div>
<span class="ml-2 text-gray-700" id="loadingText">Processing your request...</span>
</div>
<div class="hidden" id="resultContainer">
<div class="bg-gray-50 p-4 rounded-lg" id="resultContent">
</div>
</div>
<div class="hidden bg-red-100 border-l-4 border-red-500 text-red-700 p-4 my-4 rounded" id="errorContainer">
<p id="errorMessage"></p>
</div>
</div>
<div class="grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
<div class="bg-white rounded-md shadow-sm overflow-hidden transition duration-300 card-hover">
<div class="p-4">
<div class="text-black mb-4">
<i class="fab fa-tiktok text-4xl"></i>
</div>
<h3 class="text-base font-semibold mb-1">TikTok Downloader</h3>
<p class="text-sm text-gray-600">Example: https://vm.tiktok.com/ZShd7qgpH/</p>
</div>
</div>
<div class="bg-white rounded-md shadow-sm overflow-hidden transition duration-300 card-hover">
<div class="p-4">
<div class="text-pink-600 mb-4">
<i class="fab fa-instagram text-4xl"></i>
</div>
<h3 class="text-base font-semibold mb-1">Instagram Downloader</h3>
<p class="text-sm text-gray-600">Example: https://www.instagram.com/reels/DIV9faDSPX6/</p>
<p class="text-sm text-gray-600">Photo Example: https://www.instagram.com/p/C6cx2W1pVvV/</p>
</div>
</div>
<div class="bg-white rounded-md shadow-sm overflow-hidden transition duration-300 card-hover">
<div class="p-4">
<div class="text-red-600 mb-4">
<i class="fab fa-youtube text-4xl"></i>
</div>
<h3 class="text-base font-semibold mb-1">YouTube Downloader</h3>
<p class="text-sm text-gray-600">Example: https://www.youtube.com/watch?v=D6nqlcgI4Xk</p>
</div>
</div>
<div class="bg-white rounded-md shadow-sm overflow-hidden transition duration-300 card-hover">
<div class="p-4">
<div class="text-blue-600 mb-4">
<i class="fab fa-facebook text-4xl"></i>
</div>
<h3 class="text-base font-semibold mb-1">Facebook Downloader</h3>
<p class="text-sm text-gray-600">Example: https://www.facebook.com/share/r/12BFZAtjpS8/</p>
</div>
</div>
<div class="bg-white rounded-md shadow-sm overflow-hidden transition duration-300 card-hover">
<div class="p-4">
<div class="text-blue-400 mb-4">
<i class="fab fa-twitter text-4xl"></i>
</div>
<h3 class="text-base font-semibold mb-1">Twitter Downloader</h3>
<p class="text-sm text-gray-600">Example: https://twitter.com/username/status/123456789</p>
</div>
</div>
</div>
<footer class="text-center text-white py-6">
<p>© 2025 OneHuptak Downloader. All rights reserved.</p>
</footer>
<script>
        document.addEventListener('DOMContentLoaded', function() {
            const videoUrlInput = document.getElementById('videoUrl');
            const downloadBtn = document.getElementById('downloadBtn');
            const qualityOptions = document.getElementById('qualityOptions');
            const videoQualityButtons = document.getElementById('videoQualityButtons');
            const audioQualityButtons = document.getElementById('audioQualityButtons');
            const videoQualityContent = document.getElementById('videoQualityContent');
            const audioQualityContent = document.getElementById('audioQualityContent');
            const resultContainer = document.getElementById('resultContainer');
            const resultContent = document.getElementById('resultContent');
            const errorContainer = document.getElementById('errorContainer');
            const errorMessage = document.getElementById('errorMessage');
            const loadingSpinner = document.querySelector('.loading-spinner');
            const loadingText = document.getElementById('loadingText');
            const clearInputBtn = document.getElementById('clearInput');
            const progressBar = document.getElementById('progressBar');
            const progressBarFill = document.getElementById('progressBarFill');
            const qualityTabs = document.querySelectorAll('.quality-tab');

            videoUrlInput.addEventListener('input', function() {
                if (this.value.trim() !== '') {
                    clearInputBtn.style.display = 'block';
                } else {
                    clearInputBtn.style.display = 'none';
                }
            });

            clearInputBtn.addEventListener('click', function() {
                videoUrlInput.value = '';
                this.style.display = 'none';
                videoUrlInput.focus();
            });


            qualityTabs.forEach(tab => {
                tab.addEventListener('click', function() {

                    qualityTabs.forEach(t => t.classList.remove('active'));

                    this.classList.add('active');
                    

                    const tabName = this.getAttribute('data-tab');
                    if (tabName === 'video') {
                        videoQualityContent.classList.add('active');
                        audioQualityContent.classList.remove('active');
                    } else {
                        videoQualityContent.classList.remove('active');
                        audioQualityContent.classList.add('active');
                    }
                });
            });

            downloadBtn.addEventListener('click', function() {
                const url = videoUrlInput.value.trim();
                
                if (!url) {
                    showError('Please enter a video URL');
                    return;
                }

                hideError();
                hideResult();
                hideQualityOptions();
                showLoading();


                const platform = detectPlatform(url);
                if (!platform) {
                    hideLoading();
                    showError('Unsupported URL. Please use TikTok, Instagram, YouTube, or Facebook links.');
                    return;
                }


                if (platform === 'youtube') {
                    showQualityOptions();
                    hideLoading();
                } else if (platform === 'twitter') {
                    fetchVideoInfo(platform, url);
                } else {
                    fetchVideoInfo(platform, url);
                }
            });

            function detectPlatform(url) {

                if (url.includes('tiktok.com') || url.includes('vm.tiktok.com')) {
                    return 'tiktok';
                }

                else if (url.includes('instagram.com')) {
                    if (url.includes('/reel/') || url.includes('/reels/')) {
                        return 'instagram-reel';
                    } else if (url.includes('/p/') || url.includes('/tv/')) {
                        return 'instagram-post';
                    } else if (url.includes('/stories/')) {
                        return 'instagram-story';
                    }
                }

                else if (url.includes('youtube.com') || url.includes('youtu.be')) {
                    return 'youtube';
                }


                else if (url.includes('facebook.com') || url.includes('fb.watch')) {
                    return 'facebook';
                }


                else if (url.includes('twitter.com') || url.includes('x.com')) {
                    return 'twitter';
                }


                else if (url.startsWith('magnet:') || url.includes('torrent')) {
                    return 'torrent';
                }
                return null;
            }

            function showQualityOptions() {
                videoQualityButtons.innerHTML = '';
                audioQualityButtons.innerHTML = '';
                
                const videoQualities = [
                    { label: '360p', value: '360' },
                    { label: '480p', value: '480' },
                    { label: '720p', value: '720' },
                    { label: '1080p', value: '1080' }
                ];

                videoQualities.forEach(quality => {
                    const btn = document.createElement('button');
                    btn.className = 'quality-btn bg-gray-200 hover:bg-gray-300 px-3 py-2 rounded-lg text-sm';
                    btn.textContent = quality.label;
                    btn.onclick = () => {
                        hideQualityOptions();
                        fetchVideoInfo('youtube', videoUrlInput.value.trim(), quality.value);
                    };
                    videoQualityButtons.appendChild(btn);
                });


                const audioFormats = [
                    { label: 'MP3 (128kbps)', value: 'mp3' },
                    { label: 'MP3 (High Quality)', value: 'mp3_hq' }
                ];

                audioFormats.forEach(format => {
                    const btn = document.createElement('button');
                    btn.className = 'quality-btn bg-gray-200 hover:bg-gray-300 px-3 py-2 rounded-lg text-sm';
                    btn.textContent = format.label;
                    btn.onclick = () => {
                        hideQualityOptions();
                        fetchVideoInfo('youtube', videoUrlInput.value.trim(), format.value);
                    };
                    audioQualityButtons.appendChild(btn);
                });

                qualityOptions.classList.remove('hidden');
            }

            function hideQualityOptions() {
                qualityOptions.classList.add('hidden');
            }

            async function fetchVideoInfo(platform, url, quality = null) {
                try {
                    showLoading();
                    hideResult();
                    simulateProgress();

                    let apiUrl = '';
                    let apiOptions = { method: 'GET' };

                    switch(platform) {
                        case 'tiktok':
                            apiUrl = `https://api.diioffc.web.id/api/download/tiktok?url=${encodeURIComponent(url)}`;
                            break;
                        case 'instagram-reel':
                            apiUrl = `https://api.ryzumi.vip/api/downloader/igdl?url=${encodeURIComponent(url)}`;
                            break;
                        case 'instagram-post':
                            apiUrl = `https://api.ryzumi.vip/api/downloader/igdl?url=${encodeURIComponent(url)}`;
                            break;
                        case 'youtube':
                            if (quality && (quality === 'mp3' || quality === 'mp3_hq')) {

                                apiUrl = `https://api.siputzx.my.id/api/d/ytmp3?url=${encodeURIComponent(url)}`;
                            } else {

                                apiUrl = `https://api.siputzx.my.id/api/d/ytmp4?url=${encodeURIComponent(url)}`;
                                if (quality) {
                                    apiUrl += `&quality=${quality}`;
                                }

                            }
                            break;
                        case 'facebook':
                            apiUrl = `https://www.dark-yasiya-api.site/download/fbdl1?url=${encodeURIComponent(url)}`;
                            break;
                        case 'twitter':
                            apiUrl = `https://www.dark-yasiya-api.site/download/twitter?url=${encodeURIComponent(url)}`;
                            break;
                    }



                    const response = await fetch(apiUrl, apiOptions);
                    
                    if (!response.ok) {
                        throw new Error('Failed to fetch video information');
                    }
                    
                    const data = await response.json();
                    
                    if ((data.status && data.result) || (data.status && data.data) || (platform === 'youtube' && (data.url || data.result)) || (platform === 'twitter' && data.result)) {
                        hideLoading();
                        showPopup('Download ready!', 'success');
                        if (platform === 'facebook' && data.result) {
                            displayVideoInfo(platform, data.result, quality);
                        } else if (platform === 'instagram-reel' || platform === 'instagram-post') {
                            displayInstagramInfo(platform, data, quality);
                        } else if (platform === 'youtube' && quality && (quality === 'mp3' || quality === 'mp3_hq')) {
                            displayYoutubeAudioInfo(data, quality);
                        } else if (platform === 'twitter') {
                            displayTwitterInfo(data);
                        } else {
                            displayVideoInfo(platform, data.result || data.data || data, quality);
                        }
                    } else {
                        throw new Error('Invalid response from server');
                    }
                } catch (error) {
                    hideLoading();
                    showError(error.message || 'Failed to download video. Please try again later.');
                    showPopup(error.message || 'Download failed!', 'error');
                } finally {
                    resetProgress();
                }
            }

            function displayTwitterInfo(data) {
                const twitterData = data.result;
                let html = '';
                
                html = `
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-3">Twitter Video</h3>
                        <div class="flex flex-col md:flex-row gap-6">
                            <div class="w-full md:w-1/3">
                                <img src="${twitterData.thumb}" alt="Video thumbnail" class="w-full rounded-lg">
                            </div>
                            <div class="w-full md:w-2/3">
                                <p class="mb-4">${twitterData.desc || 'Twitter Video'}</p>
                                <div class="bg-white p-4 rounded-lg border border-gray-200">
                                    <h4 class="font-medium mb-3">Download Options</h4>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        ${twitterData.video_hd ? `
                                        <div class="border rounded-lg p-4">
                                            <h5 class="font-medium mb-2">HD Quality</h5>
                                            <a href="${twitterData.video_hd}" download class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg block text-center">
                                                <i class="fas fa-download mr-2"></i> Download HD
                                            </a>
                                        </div>
                                        ` : ''}
                                        ${twitterData.video_sd ? `
                                        <div class="border rounded-lg p-4">
                                            <h5 class="font-medium mb-2">Standard Quality</h5>
                                            <a href="${twitterData.video_sd}" download class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg block text-center">
                                                <i class="fas fa-download mr-2"></i> Download SD
                                            </a>
                                        </div>
                                        ` : ''}
                                        ${twitterData.audio ? `
                                        <div class="border rounded-lg p-4">
                                            <h5 class="font-medium mb-2">Audio Only</h5>
                                            <a href="${twitterData.audio}" download class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg block text-center">
                                                <i class="fas fa-download mr-2"></i> Download Audio
                                            </a>
                                        </div>
                                        ` : ''}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                resultContent.innerHTML = html;
                resultContainer.classList.remove('hidden');
            }

            function displayYoutubeAudioInfo(data, quality) {
                let html = '';
                

                const audioData = data.data || data;
                const downloadUrl = audioData.dl || audioData.url;
                const title = audioData.title || 'YouTube Audio';
                const videoId = extractVideoId(videoUrlInput.value.trim());
                const thumbnail = videoId ? `https://img.youtube.com/vi/${videoId}/mqdefault.jpg` : 'https://via.placeholder.com/800x450';
                
                let qualityLabel = 'MP3';
                if (quality === 'mp3_hq') qualityLabel = 'MP3 (High Quality)';
                
                html = `
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-3">YouTube Audio (${qualityLabel})</h3>
                        <div class="flex flex-col md:flex-row gap-6">
                            <div class="w-full md:w-1/3">
                                <img src="${thumbnail}" alt="Audio thumbnail" class="w-full rounded-lg">
                            </div>
                            <div class="w-full md:w-2/3">
                                <h4 class="text-lg font-medium mb-2">${title}</h4>
                                <div class="bg-white p-4 rounded-lg border border-gray-200">
                                    <h4 class="font-medium mb-2">Download Audio File</h4>
                                    <a href="${downloadUrl}" download="${title.replace(/[^a-z0-9]/gi, '_').toLowerCase()}.mp3" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg block text-center">
                                        <i class="fas fa-download mr-2"></i> Download Now
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                resultContent.innerHTML = html;
                resultContainer.classList.remove('hidden');
            }

            function extractVideoId(url) {
                const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
                const match = url.match(regExp);
                return (match && match[2].length === 11) ? match[2] : null;
            }

            function displayInstagramInfo(platform, data, quality = null) {
                let html = '';
                
                if (!data.status || !data.data || data.data.length === 0) {
                    showError('No media found in the Instagram post');
                    return;
                }

                const mediaItems = data.data;
                

                const isVideo = mediaItems[0].type === 'video' || (mediaItems[0].thumbnail && mediaItems[0].url.includes('.mp4'));
                const isSingleImage = mediaItems.length === 1 && (mediaItems[0].type === 'image' || mediaItems[0].url.includes('.jpg'));
                
                if (isVideo) {

                    const video = mediaItems[0];
                    const thumbnail = video.thumbnail || video.thumb || 'https://via.placeholder.com/1080x1920';
                    const videoUrl = video.url || (mediaItems[0].video_url ? mediaItems[0].video_url : '');
                    
                    html = `
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3">Instagram ${platform.includes('reel') ? 'Reel' : 'Video'}</h3>
                            <div class="flex flex-col items-center">
                                <video controls class="w-full max-w-md rounded-lg mb-4" poster="${thumbnail}">
                                    <source src="${videoUrl}" type="video/mp4">
                                    Your browser does not support the video tag.
                                </video>
                                <div class="w-full max-w-md bg-white p-4 rounded-lg border border-gray-200">
                                    <a href="${videoUrl}" download class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-medium block text-center">
                                        <i class="fas fa-download mr-2"></i> Download Video
                                    </a>
                                </div>
                            </div>
                        </div>
                    `;
                } else if (isSingleImage) {

                    const image = mediaItems[0];
                    const imageUrl = image.url || (mediaItems[0].image_url ? mediaItems[0].image_url : '');
                    const thumbnail = image.thumb || image.thumbnail || imageUrl;
                    
                    html = `
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3">Instagram Photo</h3>
                            <div class="flex flex-col items-center">
                                <img src="${thumbnail}" alt="Instagram photo" class="w-full max-w-md rounded-lg mb-4">
                                <div class="w-full max-w-md bg-white p-4 rounded-lg border border-gray-200">
                                    <a href="${imageUrl}" download class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-medium block text-center">
                                        <i class="fas fa-download mr-2"></i> Download Photo
                                    </a>
                                </div>
                            </div>
                        </div>
                    `;
                } else {

                    html = `
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3">Instagram Carousel (${mediaItems.length})</h3>
                            <div class="photo-grid">
                                ${mediaItems.map((item, index) => `
                                    <div class="photo-item">
                                        ${mediaItems.length > 1 ? `<span class="photo-count">${index + 1}/${mediaItems.length}</span>` : ''}
                                        <img src="${item.thumb || item.thumbnail || item.url}" alt="Instagram photo ${index + 1}" class="w-full">
                                        <div class="photo-footer">
                                            <a href="${item.url}" download="instagram-photo-${index + 1}.jpg" class="download-btn">
                                                <i class="fas fa-download mr-2"></i> Download ${index + 1}
                                            </a>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                }

                resultContent.innerHTML = html;
                resultContainer.classList.remove('hidden');
            }

            function displayVideoInfo(platform, videoData, quality = null) {
                let html = '';
                
                if (platform === 'tiktok') {
                    html = `
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3">TikTok Video</h3>
                            <div class="flex flex-col md:flex-row gap-6">
                                <div class="w-full md:w-1/3">
                                    <img src="${videoData.cover}" alt="Video thumbnail" class="w-full rounded-lg video-thumbnail">
                                </div>
                                <div class="w-full md:w-2/3">
                                    <div class="flex items-center mb-4">
                                        <img src="${videoData.author.avatar}" alt="Author avatar" class="author-avatar mr-3">
                                        <div>
                                            <p class="font-semibold">${videoData.author.nickname}</p>
                                            <p class="text-sm text-gray-600">@${videoData.author.unique_id}</p>
                                        </div>
                                    </div>
                                    <p class="mb-4">${videoData.title}</p>
                                    <div class="grid grid-cols-3 gap-4 mb-6">
                                        <div class="text-center">
                                            <p class="text-2xl font-bold">${formatNumber(videoData.play_count)}</p>
                                            <p class="text-sm text-gray-600">Views</p>
                                        </div>
                                        <div class="text-center">
                                            <p class="text-2xl font-bold">${formatNumber(videoData.digg_count)}</p>
                                            <p class="text-sm text-gray-600">Likes</p>
                                        </div>
                                        <div class="text-center">
                                            <p class="text-2xl font-bold">${formatNumber(videoData.comment_count)}</p>
                                            <p class="text-sm text-gray-600">Comments</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white p-4 rounded-lg border border-gray-200">
                            <h3 class="text-lg font-semibold mb-3">Download Options</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="border rounded-lg p-4">
                                    <h4 class="font-medium mb-2">Standard Quality</h4>
                                    <p class="text-sm text-gray-600 mb-3">With watermark (${formatFileSize(videoData.wm_size)})</p>
                                    <a href="${videoData.wmplay}" download class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg block text-center">
                                        <i class="fas fa-download mr-2"></i> Download
                                    </a>
                                </div>
                                <div class="border rounded-lg p-4">
                                    <h4 class="font-medium mb-2">No Watermark</h4>
                                    <p class="text-sm text-gray-600 mb-3">Original quality (${formatFileSize(videoData.size)})</p>
                                    <a href="${videoData.play}" download class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg block text-center">
                                        <i class="fas fa-download mr-2"></i> Download
                                    </a>
                                </div>
                                <div class="border rounded-lg p-4">
                                    <h4 class="font-medium mb-2">HD Quality</h4>
                                    <p class="text-sm text-gray-600 mb-3">High definition (${formatFileSize(videoData.hd_size)})</p>
                                    <a href="${videoData.hdplay}" download class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg block text-center">
                                        <i class="fas fa-download mr-2"></i> Download
                                    </a>
                                </div>
                            </div>
                        </div>
                    `;
                }
                else if (platform === 'youtube') {

                    const videoId = extractVideoId(videoUrlInput.value.trim());
                    const thumbnail = videoId ? `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg` : 'https://via.placeholder.com/1280x720';
                    

                    let videoUrl = '';
                    let qualityLabel = quality ? quality + 'p' : 'HD';
                    let title = 'YouTube Video';
                    

                    if (videoData.status && videoData.data) {
                        videoUrl = videoData.data.dl;
                        title = videoData.data.title || title;
                    } else if (videoData.dl) {
                        videoUrl = videoData.dl;
                    } else if (videoData.result && videoData.result.dl) {
                        videoUrl = videoData.result.dl;
                    } else if (videoData.data && videoData.data.dl) {
                        videoUrl = videoData.data.dl;
                    }
                    
                    html = `
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3">YouTube Video</h3>
                            <div class="flex flex-col md:flex-row gap-6">
                                <div class="w-full md:w-1/3">
                                    <img src="${thumbnail}" alt="Video thumbnail" class="w-full rounded-lg">
                                </div>
                                <div class="w-full md:w-2/3">
                                    <h4 class="text-lg font-medium mb-2">${title}</h4>
                                    <div class="bg-white p-4 rounded-lg border border-gray-200">
                                        <h4 class="font-medium mb-2">Download Video (${qualityLabel})</h4>
                                        <a href="${videoUrl}" download class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg block text-center">
                                            <i class="fas fa-download mr-2"></i> Download Now
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                }
                else if (platform === 'facebook') {
                    html = `
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3">Facebook Video</h3>
                            <div class="flex flex-col md:flex-row gap-6">
                                <div class="w-full md:w-1/3">
                                    ${videoData.image ? 
                                        `<img src="${videoData.image}" alt="Video thumbnail" class="w-full rounded-lg">` : 
                                        `<div class="bg-gray-200 rounded-lg flex items-center justify-center" style="min-height: 200px;">
                                            <p class="text-gray-500">Thumbnail preview not available</p>
                                        </div>`
                                    }
                                </div>
                                <div class="w-full md:w-2/3">
                                    <h4 class="text-lg font-medium mb-2">${videoData.title || 'Facebook Video'}</h4>
                                    ${videoData.desc && videoData.desc !== 'No video description...' ? 
                                        `<p class="text-gray-600 mb-4">${videoData.desc}</p>` : ''}
                                    
                                    <div class="bg-white p-4 rounded-lg border border-gray-200">
                                        <h4 class="font-medium mb-3">Download Options</h4>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            ${videoData.hd ? `
                                            <div class="border rounded-lg p-4">
                                                <h5 class="font-medium mb-2">HD Quality</h5>
                                                <a href="${videoData.hd}" download class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg block text-center">
                                                    <i class="fas fa-download mr-2"></i> Download HD
                                                </a>
                                            </div>
                                            ` : ''}
                                            ${videoData.sd ? `
                                            <div class="border rounded-lg p-4">
                                                <h5 class="font-medium mb-2">Standard Quality</h5>
                                                <a href="${videoData.sd}" download class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg block text-center">
                                                    <i class="fas fa-download mr-2"></i> Download SD
                                                </a>
                                            </div>
                                            ` : ''}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                }

                resultContent.innerHTML = html;
                resultContainer.classList.remove('hidden');
            }

            function formatNumber(num) {
                if (!num) return 'N/A';
                return new Intl.NumberFormat().format(num);
            }

            function formatDuration(seconds) {
                if (!seconds) return 'N/A';
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
            }

            function formatFileSize(bytes) {
                if (!bytes) return 'N/A';
                if (bytes < 1024) return bytes + ' bytes';
                else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';
                else return (bytes / 1048576).toFixed(1) + ' MB';
            }

            function showLoading() {
                loadingSpinner.style.display = 'block';
                loadingText.style.display = 'block';
                progressBar.style.display = 'block';
            }

            function hideLoading() {
                loadingSpinner.style.display = 'none';
                loadingText.style.display = 'none';
                progressBar.style.display = 'none';
            }

            function hideResult() {
                resultContainer.classList.add('hidden');
            }

            function showError(message) {
                errorMessage.textContent = message;
                errorContainer.classList.remove('hidden');
            }

            function hideError() {
                errorContainer.classList.add('hidden');
            }

            function simulateProgress() {
                let progress = 0;
                const interval = setInterval(() => {
                    progress += Math.random() * 10;
                    if (progress >= 90) {
                        clearInterval(interval);
                    }
                    progressBarFill.style.width = `${progress}%`;
                }, 300);
            }


            function resetProgress() {
                progressBarFill.style.width = '0%';
            }


            function showPopup(message, type) {

                const existingPopup = document.querySelector('.popup');
                if (existingPopup) {
                    existingPopup.remove();
                }

                const popup = document.createElement('div');
                popup.className = `popup ${type}`;
                
                let icon = '';
                if (type === 'success') {
                    icon = '<i class="fas fa-check popup-icon"></i>';
                } else {
                    icon = '<i class="fas fa-exclamation-triangle popup-icon"></i>';
                }
                
                popup.innerHTML = `${icon}${message}`;
                document.body.appendChild(popup);
                
                setTimeout(() => {
                    if (popup.parentNode) {
                        popup.parentNode.removeChild(popup);
                    }
                }, 3500);
            }
        });
    </script>
</div><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script><script>
document.addEventListener("DOMContentLoaded", function () {
  new Typed("#typed-title", {
    strings: ["OneHuptak Downloader"],
    typeSpeed: 90,
    backSpeed: 40,
    backDelay: 3000,
    startDelay: 300,
    loop: false,
    showCursor: true,
    cursorChar: '|'
  });
});

  new Typed("#typed-subtitle", {
    strings: [" TikTok", "Instagram", "YouTube", "and Onehuptak can download"],
    typeSpeed: 50,
    backSpeed: 30,
    backDelay: 1500,
    startDelay: 200,
    loop: true,
    showCursor: true,
    cursorChar: '|'
  });
</script>
</body>
</html>
<!-- නමෝ බුද්ධාය !✨ -->
 